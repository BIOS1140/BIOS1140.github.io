<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.1 R programming: for-loops | R tutorials for the course BIOS1140 at the University of Oslo</title>
  <meta name="description" content="This is a set of R tutorials connected to the course BIOS1140 at the University of Oslo, and are meant as a companion to the book Evolutionary Genetics (Ravinet &amp; Sætre, 2018). They do not assume any prior R knowledge." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="3.1 R programming: for-loops | R tutorials for the course BIOS1140 at the University of Oslo" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a set of R tutorials connected to the course BIOS1140 at the University of Oslo, and are meant as a companion to the book Evolutionary Genetics (Ravinet &amp; Sætre, 2018). They do not assume any prior R knowledge." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.1 R programming: for-loops | R tutorials for the course BIOS1140 at the University of Oslo" />
  
  <meta name="twitter:description" content="This is a set of R tutorials connected to the course BIOS1140 at the University of Oslo, and are meant as a companion to the book Evolutionary Genetics (Ravinet &amp; Sætre, 2018). They do not assume any prior R knowledge." />
  

<meta name="author" content="Original tutorials written by Mark Ravinet. Revamped in 2021 by Even Sletteng Garvang and Solveig Brochmann." />


<meta name="date" content="2021-06-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ch03.html"/>
<link rel="next" href="evolutionary-biology.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R tutorials for the course BIOS1140</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="how-to-use-these-tutorials.html"><a href="how-to-use-these-tutorials.html"><i class="fa fa-check"></i>How to use these tutorials</a></li>
</ul></li>
<li class="part"><span><b>I Introductory R course</b></span></li>
<li class="chapter" data-level="1" data-path="ch01.html"><a href="ch01.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="" data-path="ch01.html"><a href="ch01.html#what-to-expect"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="1.1" data-path="start-using-r.html"><a href="start-using-r.html"><i class="fa fa-check"></i><b>1.1</b> Start using R!</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="start-using-r.html"><a href="start-using-r.html#install-r-and-rstudio"><i class="fa fa-check"></i><b>1.1.1</b> Install R and Rstudio</a></li>
<li class="chapter" data-level="1.1.2" data-path="start-using-r.html"><a href="start-using-r.html#getting-familiar-with-r-and-the-console"><i class="fa fa-check"></i><b>1.1.2</b> Getting familiar with R and the console</a></li>
<li class="chapter" data-level="1.1.3" data-path="start-using-r.html"><a href="start-using-r.html#scripts"><i class="fa fa-check"></i><b>1.1.3</b> Scripts</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="r-essentials.html"><a href="r-essentials.html"><i class="fa fa-check"></i><b>1.2</b> R essentials</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="r-essentials.html"><a href="r-essentials.html#assigning-to-objects"><i class="fa fa-check"></i><b>1.2.1</b> Assigning to objects</a></li>
<li class="chapter" data-level="1.2.2" data-path="r-essentials.html"><a href="r-essentials.html#vectors"><i class="fa fa-check"></i><b>1.2.2</b> Vectors</a></li>
<li class="chapter" data-level="1.2.3" data-path="r-essentials.html"><a href="r-essentials.html#strings"><i class="fa fa-check"></i><b>1.2.3</b> Strings</a></li>
<li class="chapter" data-level="1.2.4" data-path="r-essentials.html"><a href="r-essentials.html#logical"><i class="fa fa-check"></i><b>1.2.4</b> Logical values</a></li>
<li class="chapter" data-level="1.2.5" data-path="r-essentials.html"><a href="r-essentials.html#functions"><i class="fa fa-check"></i><b>1.2.5</b> Functions</a></li>
<li class="chapter" data-level="1.2.6" data-path="r-essentials.html"><a href="r-essentials.html#data-frames"><i class="fa fa-check"></i><b>1.2.6</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="dataimport.html"><a href="dataimport.html"><i class="fa fa-check"></i><b>1.3</b> Data import</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="dataimport.html"><a href="dataimport.html#data-formats"><i class="fa fa-check"></i><b>1.3.1</b> Data formats</a></li>
<li class="chapter" data-level="1.3.2" data-path="dataimport.html"><a href="dataimport.html#working-directories"><i class="fa fa-check"></i><b>1.3.2</b> Working directories</a></li>
<li class="chapter" data-level="1.3.3" data-path="dataimport.html"><a href="dataimport.html#importing"><i class="fa fa-check"></i><b>1.3.3</b> Importing</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>1.4</b> Plotting</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="plotting.html"><a href="plotting.html#plotting-vectors"><i class="fa fa-check"></i><b>1.4.1</b> Plotting vectors</a></li>
<li class="chapter" data-level="1.4.2" data-path="plotting.html"><a href="plotting.html#customizing-your-plots"><i class="fa fa-check"></i><b>1.4.2</b> Customizing your plots</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="installing-and-loading-packages.html"><a href="installing-and-loading-packages.html"><i class="fa fa-check"></i><b>1.5</b> Installing and loading packages</a></li>
<li class="chapter" data-level="1.6" data-path="going-further.html"><a href="going-further.html"><i class="fa fa-check"></i><b>1.6</b> Going further</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ch02.html"><a href="ch02.html"><i class="fa fa-check"></i><b>2</b> Building on your foundations: going further with R</a>
<ul>
<li class="chapter" data-level="" data-path="ch02.html"><a href="ch02.html#what-to-expect-1"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="2.1" data-path="intro-to-data-manipulation-with-tidyverse.html"><a href="intro-to-data-manipulation-with-tidyverse.html"><i class="fa fa-check"></i><b>2.1</b> Intro to data manipulation with tidyverse</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intro-to-data-manipulation-with-tidyverse.html"><a href="intro-to-data-manipulation-with-tidyverse.html#what-is-the-tidyverse"><i class="fa fa-check"></i><b>2.1.1</b> What is the tidyverse?</a></li>
<li class="chapter" data-level="2.1.2" data-path="intro-to-data-manipulation-with-tidyverse.html"><a href="intro-to-data-manipulation-with-tidyverse.html#the-dplyr-package"><i class="fa fa-check"></i><b>2.1.2</b> The dplyr package</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="using-dplyr-to-work-with-your-data.html"><a href="using-dplyr-to-work-with-your-data.html"><i class="fa fa-check"></i><b>2.2</b> Using dplyr to work with your data</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="using-dplyr-to-work-with-your-data.html"><a href="using-dplyr-to-work-with-your-data.html#the-pipe"><i class="fa fa-check"></i><b>2.2.1</b> The pipe</a></li>
<li class="chapter" data-level="2.2.2" data-path="using-dplyr-to-work-with-your-data.html"><a href="using-dplyr-to-work-with-your-data.html#selecting-colums-with-select"><i class="fa fa-check"></i><b>2.2.2</b> Selecting colums with <code>select()</code></a></li>
<li class="chapter" data-level="2.2.3" data-path="using-dplyr-to-work-with-your-data.html"><a href="using-dplyr-to-work-with-your-data.html#filtering-colums-using-filter"><i class="fa fa-check"></i><b>2.2.3</b> Filtering colums using <code>filter()</code></a></li>
<li class="chapter" data-level="2.2.4" data-path="using-dplyr-to-work-with-your-data.html"><a href="using-dplyr-to-work-with-your-data.html#grouped-summaries-with-group_by-and-summarise"><i class="fa fa-check"></i><b>2.2.4</b> Grouped summaries with <code>group_by()</code> and <code>summarise()</code></a></li>
<li class="chapter" data-level="2.2.5" data-path="using-dplyr-to-work-with-your-data.html"><a href="using-dplyr-to-work-with-your-data.html#using-everything-weve-learned-in-a-single-pipe-and-a-dplyr-exercise"><i class="fa fa-check"></i><b>2.2.5</b> Using everything we’ve learned in a single pipe, and a <code>dplyr</code> exercise</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="plotting-your-data-with-ggplot2.html"><a href="plotting-your-data-with-ggplot2.html"><i class="fa fa-check"></i><b>2.3</b> Plotting your data with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="plotting-your-data-with-ggplot2.html"><a href="plotting-your-data-with-ggplot2.html#the-three-things-you-need-in-a-ggplot"><i class="fa fa-check"></i><b>2.3.1</b> The three things you need in a ggplot</a></li>
<li class="chapter" data-level="2.3.2" data-path="plotting-your-data-with-ggplot2.html"><a href="plotting-your-data-with-ggplot2.html#storing-ggplots-in-objects"><i class="fa fa-check"></i><b>2.3.2</b> Storing ggplots in objects</a></li>
<li class="chapter" data-level="2.3.3" data-path="plotting-your-data-with-ggplot2.html"><a href="plotting-your-data-with-ggplot2.html#customizing-your-plots-1"><i class="fa fa-check"></i><b>2.3.3</b> Customizing your plots</a></li>
<li class="chapter" data-level="2.3.4" data-path="plotting-your-data-with-ggplot2.html"><a href="plotting-your-data-with-ggplot2.html#saving-your-plots"><i class="fa fa-check"></i><b>2.3.4</b> Saving your plots</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="reshaping-data-with-pivot-longer.html"><a href="reshaping-data-with-pivot-longer.html"><i class="fa fa-check"></i><b>2.4</b> Reshaping data with pivot_longer()</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="reshaping-data-with-pivot-longer.html"><a href="reshaping-data-with-pivot-longer.html#wide-and-long-format"><i class="fa fa-check"></i><b>2.4.1</b> Wide and long format</a></li>
<li class="chapter" data-level="2.4.2" data-path="reshaping-data-with-pivot-longer.html"><a href="reshaping-data-with-pivot-longer.html#import-example-data"><i class="fa fa-check"></i><b>2.4.2</b> Import example data</a></li>
<li class="chapter" data-level="2.4.3" data-path="reshaping-data-with-pivot-longer.html"><a href="reshaping-data-with-pivot-longer.html#reshape-the-data"><i class="fa fa-check"></i><b>2.4.3</b> Reshape the data</a></li>
<li class="chapter" data-level="2.4.4" data-path="reshaping-data-with-pivot-longer.html"><a href="reshaping-data-with-pivot-longer.html#plot-the-data"><i class="fa fa-check"></i><b>2.4.4</b> Plot the data</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="study-questions.html"><a href="study-questions.html"><i class="fa fa-check"></i><b>2.5</b> Study questions</a></li>
<li class="chapter" data-level="2.6" data-path="going-further-1.html"><a href="going-further-1.html"><i class="fa fa-check"></i><b>2.6</b> Going further</a></li>
</ul></li>
<li class="part"><span><b>II Evolutionary genetics with R</b></span></li>
<li class="chapter" data-level="3" data-path="ch03.html"><a href="ch03.html"><i class="fa fa-check"></i><b>3</b> Changes in Allele and Genotype Frequency</a>
<ul>
<li class="chapter" data-level="" data-path="ch03.html"><a href="ch03.html#what-to-expect-2"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="3.1" data-path="r-programming-for-loops.html"><a href="r-programming-for-loops.html"><i class="fa fa-check"></i><b>3.1</b> R programming: for-loops</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="r-programming-for-loops.html"><a href="r-programming-for-loops.html#motivation-why-loop"><i class="fa fa-check"></i><b>3.1.1</b> Motivation: why loop?</a></li>
<li class="chapter" data-level="3.1.2" data-path="r-programming-for-loops.html"><a href="r-programming-for-loops.html#how-a-for-loop-works"><i class="fa fa-check"></i><b>3.1.2</b> How a for-loop works</a></li>
<li class="chapter" data-level="3.1.3" data-path="r-programming-for-loops.html"><a href="r-programming-for-loops.html#indexing"><i class="fa fa-check"></i><b>3.1.3</b> Indexing with for-loops</a></li>
<li class="chapter" data-level="3.1.4" data-path="r-programming-for-loops.html"><a href="r-programming-for-loops.html#solving-our-problem"><i class="fa fa-check"></i><b>3.1.4</b> Solving our problem</a></li>
<li class="chapter" data-level="3.1.5" data-path="r-programming-for-loops.html"><a href="r-programming-for-loops.html#storing-values-from-a-for-loop"><i class="fa fa-check"></i><b>3.1.5</b> Storing values from a for-loop</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="evolutionary-biology.html"><a href="evolutionary-biology.html"><i class="fa fa-check"></i><b>3.2</b> Evolutionary biology</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="evolutionary-biology.html"><a href="evolutionary-biology.html#the-hardy-weinberg-model"><i class="fa fa-check"></i><b>3.2.1</b> The Hardy-Weinberg Model</a></li>
<li class="chapter" data-level="3.2.2" data-path="evolutionary-biology.html"><a href="evolutionary-biology.html#testing-for-deviations-from-the-hardy-weinberg-expectation"><i class="fa fa-check"></i><b>3.2.2</b> Testing for deviations from the Hardy Weinberg Expectation</a></li>
<li class="chapter" data-level="3.2.3" data-path="evolutionary-biology.html"><a href="evolutionary-biology.html#simulating-genetic-drift"><i class="fa fa-check"></i><b>3.2.3</b> Simulating genetic drift</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="study-questions-1.html"><a href="study-questions-1.html"><i class="fa fa-check"></i><b>3.3</b> Study questions</a></li>
<li class="chapter" data-level="3.4" data-path="going-further-2.html"><a href="going-further-2.html"><i class="fa fa-check"></i><b>3.4</b> Going further</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ch04.html"><a href="ch04.html"><i class="fa fa-check"></i><b>4</b> The Theory of Natural Selection</a>
<ul>
<li class="chapter" data-level="" data-path="ch04.html"><a href="ch04.html#what-to-expect-3"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="" data-path="ch04.html"><a href="ch04.html#getting-started"><i class="fa fa-check"></i>Getting started</a></li>
<li class="chapter" data-level="4.1" data-path="r-programming-making-custom-functions.html"><a href="r-programming-making-custom-functions.html"><i class="fa fa-check"></i><b>4.1</b> R programming: Making custom functions</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="r-programming-making-custom-functions.html"><a href="r-programming-making-custom-functions.html#motivation"><i class="fa fa-check"></i><b>4.1.1</b> Motivation</a></li>
<li class="chapter" data-level="4.1.2" data-path="r-programming-making-custom-functions.html"><a href="r-programming-making-custom-functions.html#function-basics"><i class="fa fa-check"></i><b>4.1.2</b> Function basics</a></li>
<li class="chapter" data-level="4.1.3" data-path="r-programming-making-custom-functions.html"><a href="r-programming-making-custom-functions.html#a-simple-example"><i class="fa fa-check"></i><b>4.1.3</b> A simple example</a></li>
<li class="chapter" data-level="4.1.4" data-path="r-programming-making-custom-functions.html"><a href="r-programming-making-custom-functions.html#some-important-function-properties"><i class="fa fa-check"></i><b>4.1.4</b> Some important function properties</a></li>
<li class="chapter" data-level="4.1.5" data-path="r-programming-making-custom-functions.html"><a href="r-programming-making-custom-functions.html#a-slightly-more-useful-example"><i class="fa fa-check"></i><b>4.1.5</b> A slightly more useful example</a></li>
<li class="chapter" data-level="4.1.6" data-path="r-programming-making-custom-functions.html"><a href="r-programming-making-custom-functions.html#example-calculating-genotype-frequencies"><i class="fa fa-check"></i><b>4.1.6</b> Example: calculating genotype frequencies</a></li>
<li class="chapter" data-level="4.1.7" data-path="r-programming-making-custom-functions.html"><a href="r-programming-making-custom-functions.html#creating-a-function-of-the-drift-simulation"><i class="fa fa-check"></i><b>4.1.7</b> Creating a function of the drift simulation</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="evolutionary-biology-fitness.html"><a href="evolutionary-biology-fitness.html"><i class="fa fa-check"></i><b>4.2</b> Evolutionary biology: fitness</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="evolutionary-biology-fitness.html"><a href="evolutionary-biology-fitness.html#understanding-fitness"><i class="fa fa-check"></i><b>4.2.1</b> Understanding fitness</a></li>
<li class="chapter" data-level="4.2.2" data-path="evolutionary-biology-fitness.html"><a href="evolutionary-biology-fitness.html#one-locus-model-of-viability-selection"><i class="fa fa-check"></i><b>4.2.2</b> One-locus model of viability selection</a></li>
<li class="chapter" data-level="4.2.3" data-path="evolutionary-biology-fitness.html"><a href="evolutionary-biology-fitness.html#over-and-underdominance"><i class="fa fa-check"></i><b>4.2.3</b> Over and underdominance</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="study-questions-2.html"><a href="study-questions-2.html"><i class="fa fa-check"></i><b>4.3</b> Study questions</a></li>
<li class="chapter" data-level="4.4" data-path="going-further-3.html"><a href="going-further-3.html"><i class="fa fa-check"></i><b>4.4</b> Going further</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ch05.html"><a href="ch05.html"><i class="fa fa-check"></i><b>5</b> Detecting Natural Selection</a>
<ul>
<li class="chapter" data-level="" data-path="ch05.html"><a href="ch05.html#what-to-expect-4"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="" data-path="ch05.html"><a href="ch05.html#getting-started-1"><i class="fa fa-check"></i>Getting started</a></li>
<li class="chapter" data-level="5.1" data-path="vectorisation.html"><a href="vectorisation.html"><i class="fa fa-check"></i><b>5.1</b> More on functions: Vectorisation</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="vectorisation.html"><a href="vectorisation.html#the-apply-function"><i class="fa fa-check"></i><b>5.1.1</b> The <code>apply()</code> function</a></li>
<li class="chapter" data-level="5.1.2" data-path="vectorisation.html"><a href="vectorisation.html#ifelse"><i class="fa fa-check"></i><b>5.1.2</b> The <code>ifelse()</code> function</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="understanding-fst-the-fixation-index.html"><a href="understanding-fst-the-fixation-index.html"><i class="fa fa-check"></i><b>5.2</b> Understanding <em>F</em><sub>ST</sub> - the fixation index</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="understanding-fst-the-fixation-index.html"><a href="understanding-fst-the-fixation-index.html#a-worked-example-of-fst-in-humans"><i class="fa fa-check"></i><b>5.2.1</b> A worked example of <em>F</em><sub>ST</sub> in humans</a></li>
<li class="chapter" data-level="5.2.2" data-path="understanding-fst-the-fixation-index.html"><a href="understanding-fst-the-fixation-index.html#writing-a-set-of-fst-functions"><i class="fa fa-check"></i><b>5.2.2</b> Writing a set of <em>F</em><sub>ST</sub> functions</a></li>
<li class="chapter" data-level="5.2.3" data-path="understanding-fst-the-fixation-index.html"><a href="understanding-fst-the-fixation-index.html#applying-functions-to-matrices-and-data-frames"><i class="fa fa-check"></i><b>5.2.3</b> Applying functions to matrices and data frames</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="visualising-fst-along-a-chromosome.html"><a href="visualising-fst-along-a-chromosome.html"><i class="fa fa-check"></i><b>5.3</b> Visualising <em>F</em><sub>ST</sub> along a chromosome</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="visualising-fst-along-a-chromosome.html"><a href="visualising-fst-along-a-chromosome.html#identifying-outliers-in-our-fst-distribution"><i class="fa fa-check"></i><b>5.3.1</b> Identifying outliers in our <em>F</em><sub>ST</sub> distribution</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="study-questions-3.html"><a href="study-questions-3.html"><i class="fa fa-check"></i><b>5.4</b> Study questions</a></li>
<li class="chapter" data-level="5.5" data-path="going-further-4.html"><a href="going-further-4.html"><i class="fa fa-check"></i><b>5.5</b> Going further</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ch06.html"><a href="ch06.html"><i class="fa fa-check"></i><b>6</b> Multilocus Evolution</a>
<ul>
<li class="chapter" data-level="" data-path="ch06.html"><a href="ch06.html#what-to-expect-5"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="" data-path="ch06.html"><a href="ch06.html#getting-started-2"><i class="fa fa-check"></i>Getting started</a></li>
<li class="chapter" data-level="6.1" data-path="tools-for-investigating-differences-between-groups.html"><a href="tools-for-investigating-differences-between-groups.html"><i class="fa fa-check"></i><b>6.1</b> Tools for investigating differences between groups</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="tools-for-investigating-differences-between-groups.html"><a href="tools-for-investigating-differences-between-groups.html#exploring-group-differences"><i class="fa fa-check"></i><b>6.1.1</b> Exploring group differences</a></li>
<li class="chapter" data-level="6.1.2" data-path="tools-for-investigating-differences-between-groups.html"><a href="tools-for-investigating-differences-between-groups.html#analysis-of-variance-anova"><i class="fa fa-check"></i><b>6.1.2</b> Analysis of variance (ANOVA)</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="performing-a-qtl-analysis-in-bedbugs.html"><a href="performing-a-qtl-analysis-in-bedbugs.html"><i class="fa fa-check"></i><b>6.2</b> Performing a QTL analysis in bedbugs</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="performing-a-qtl-analysis-in-bedbugs.html"><a href="performing-a-qtl-analysis-in-bedbugs.html#bedbugs-pesticide-resistance-and-study-design"><i class="fa fa-check"></i><b>6.2.1</b> Bedbugs, pesticide resistance and study design</a></li>
<li class="chapter" data-level="6.2.2" data-path="performing-a-qtl-analysis-in-bedbugs.html"><a href="performing-a-qtl-analysis-in-bedbugs.html#linking-anova-to-our-qtl-analysis"><i class="fa fa-check"></i><b>6.2.2</b> Linking ANOVA to our QTL analysis</a></li>
<li class="chapter" data-level="6.2.3" data-path="performing-a-qtl-analysis-in-bedbugs.html"><a href="performing-a-qtl-analysis-in-bedbugs.html#testing-the-same-genotype-phenotype-association-with-anova"><i class="fa fa-check"></i><b>6.2.3</b> Testing the same genotype phenotype association with ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="study-questions-4.html"><a href="study-questions-4.html"><i class="fa fa-check"></i><b>6.3</b> Study questions</a></li>
<li class="chapter" data-level="6.4" data-path="going-further-5.html"><a href="going-further-5.html"><i class="fa fa-check"></i><b>6.4</b> Going further</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ch07.html"><a href="ch07.html"><i class="fa fa-check"></i><b>7</b> Inferring Evolutionary Processes from Sequence Data</a>
<ul>
<li class="chapter" data-level="" data-path="ch07.html"><a href="ch07.html#what-to-expect-6"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="" data-path="ch07.html"><a href="ch07.html#getting-started-3"><i class="fa fa-check"></i>Getting started</a></li>
<li class="chapter" data-level="7.1" data-path="working-with-dna-sequence-data.html"><a href="working-with-dna-sequence-data.html"><i class="fa fa-check"></i><b>7.1</b> Working with DNA sequence data</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="working-with-dna-sequence-data.html"><a href="working-with-dna-sequence-data.html#reading-sequence-data-into-r."><i class="fa fa-check"></i><b>7.1.1</b> Reading sequence data into R.</a></li>
<li class="chapter" data-level="7.1.2" data-path="working-with-dna-sequence-data.html"><a href="working-with-dna-sequence-data.html#exploring-dna-sequence-data"><i class="fa fa-check"></i><b>7.1.2</b> Exploring DNA sequence data</a></li>
<li class="chapter" data-level="7.1.3" data-path="working-with-dna-sequence-data.html"><a href="working-with-dna-sequence-data.html#calculating-basic-sequence-statistics"><i class="fa fa-check"></i><b>7.1.3</b> Calculating basic sequence statistics</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="working-with-a-larger-dataset.html"><a href="working-with-a-larger-dataset.html"><i class="fa fa-check"></i><b>7.2</b> Working with a larger dataset</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="working-with-a-larger-dataset.html"><a href="working-with-a-larger-dataset.html#sample-size-and-sequence-statistics"><i class="fa fa-check"></i><b>7.2.1</b> Sample size and sequence statistics</a></li>
<li class="chapter" data-level="7.2.2" data-path="working-with-a-larger-dataset.html"><a href="working-with-a-larger-dataset.html#inferring-evolutionary-processes-using-tajimas-d"><i class="fa fa-check"></i><b>7.2.2</b> Inferring evolutionary processes using Tajima’s <em>D</em></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="calculating-statistics-at-the-whole-genome-level.html"><a href="calculating-statistics-at-the-whole-genome-level.html"><i class="fa fa-check"></i><b>7.3</b> Calculating statistics at the whole genome level</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="calculating-statistics-at-the-whole-genome-level.html"><a href="calculating-statistics-at-the-whole-genome-level.html#reading-in-variant-data"><i class="fa fa-check"></i><b>7.3.1</b> Reading in variant data</a></li>
<li class="chapter" data-level="7.3.2" data-path="calculating-statistics-at-the-whole-genome-level.html"><a href="calculating-statistics-at-the-whole-genome-level.html#calculating-nucleotide-diversity-statistics"><i class="fa fa-check"></i><b>7.3.2</b> Calculating nucleotide diversity statistics</a></li>
<li class="chapter" data-level="7.3.3" data-path="calculating-statistics-at-the-whole-genome-level.html"><a href="calculating-statistics-at-the-whole-genome-level.html#visualising-nucleotide-diversity-along-the-chromosome"><i class="fa fa-check"></i><b>7.3.3</b> Visualising nucleotide diversity along the chromosome</a></li>
<li class="chapter" data-level="7.3.4" data-path="calculating-statistics-at-the-whole-genome-level.html"><a href="calculating-statistics-at-the-whole-genome-level.html#performing-a-sliding-window-analysis"><i class="fa fa-check"></i><b>7.3.4</b> Performing a sliding window analysis</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="study-questions-5.html"><a href="study-questions-5.html"><i class="fa fa-check"></i><b>7.4</b> Study questions</a></li>
<li class="chapter" data-level="7.5" data-path="going-further-6.html"><a href="going-further-6.html"><i class="fa fa-check"></i><b>7.5</b> Going further</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ch08.html"><a href="ch08.html"><i class="fa fa-check"></i><b>8</b> Speciation Genomics</a>
<ul>
<li class="chapter" data-level="" data-path="ch08.html"><a href="ch08.html#what-to-expect-7"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="" data-path="ch08.html"><a href="ch08.html#getting-started-4"><i class="fa fa-check"></i>Getting started</a></li>
<li class="chapter" data-level="8.1" data-path="visualizing-complex-data.html"><a href="visualizing-complex-data.html"><i class="fa fa-check"></i><b>8.1</b> Visualizing complex data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="visualizing-complex-data.html"><a href="visualizing-complex-data.html#faceting"><i class="fa fa-check"></i><b>8.1.1</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="returning-to-the-sparrow-dataset.html"><a href="returning-to-the-sparrow-dataset.html"><i class="fa fa-check"></i><b>8.2</b> Returning to the sparrow dataset</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="returning-to-the-sparrow-dataset.html"><a href="returning-to-the-sparrow-dataset.html#reading-in-the-sparrow-vcf"><i class="fa fa-check"></i><b>8.2.1</b> Reading in the sparrow vcf</a></li>
<li class="chapter" data-level="8.2.2" data-path="returning-to-the-sparrow-dataset.html"><a href="returning-to-the-sparrow-dataset.html#examining-the-variant-data"><i class="fa fa-check"></i><b>8.2.2</b> Examining the variant data</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="setting-up-sliding-windows.html"><a href="setting-up-sliding-windows.html"><i class="fa fa-check"></i><b>8.3</b> Setting up sliding windows</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="setting-up-sliding-windows.html"><a href="setting-up-sliding-windows.html#calculating-sliding-window-estimates-of-nucleotide-diversity-and-differentiation"><i class="fa fa-check"></i><b>8.3.1</b> Calculating sliding window estimates of nucleotide diversity and differentiation</a></li>
<li class="chapter" data-level="8.3.2" data-path="setting-up-sliding-windows.html"><a href="setting-up-sliding-windows.html#sparrow-data"><i class="fa fa-check"></i><b>8.3.2</b> Extracting statistics for visualisation</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="sparrow-viz.html"><a href="sparrow-viz.html"><i class="fa fa-check"></i><b>8.4</b> Visualising the data</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="sparrow-viz.html"><a href="sparrow-viz.html#visualising-patterns-along-the-chromosome"><i class="fa fa-check"></i><b>8.4.1</b> Visualising patterns along the chromosome</a></li>
<li class="chapter" data-level="8.4.2" data-path="sparrow-viz.html"><a href="sparrow-viz.html#interlude-relative-vs.-absolute-measures-of-nucleotide-diversity"><i class="fa fa-check"></i><b>8.4.2</b> Interlude: relative vs. absolute measures of nucleotide diversity</a></li>
<li class="chapter" data-level="8.4.3" data-path="sparrow-viz.html"><a href="sparrow-viz.html#investigating-recombination-rate-variation"><i class="fa fa-check"></i><b>8.4.3</b> Investigating recombination rate variation</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="study-questions-6.html"><a href="study-questions-6.html"><i class="fa fa-check"></i><b>8.5</b> Study questions</a></li>
<li class="chapter" data-level="8.6" data-path="going-further-7.html"><a href="going-further-7.html"><i class="fa fa-check"></i><b>8.6</b> Going further</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ch09.html"><a href="ch09.html"><i class="fa fa-check"></i><b>9</b> Reconstructing the Past</a>
<ul>
<li class="chapter" data-level="" data-path="ch09.html"><a href="ch09.html#what-to-expect-8"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="" data-path="ch09.html"><a href="ch09.html#getting-started-5"><i class="fa fa-check"></i>Getting started</a></li>
<li class="chapter" data-level="9.1" data-path="phylogenetics-in-r.html"><a href="phylogenetics-in-r.html"><i class="fa fa-check"></i><b>9.1</b> Phylogenetics in R</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="phylogenetics-in-r.html"><a href="phylogenetics-in-r.html#storing-trees-in-r"><i class="fa fa-check"></i><b>9.1.1</b> Storing trees in R</a></li>
<li class="chapter" data-level="9.1.2" data-path="phylogenetics-in-r.html"><a href="phylogenetics-in-r.html#plotting-trees"><i class="fa fa-check"></i><b>9.1.2</b> Plotting trees</a></li>
<li class="chapter" data-level="9.1.3" data-path="phylogenetics-in-r.html"><a href="phylogenetics-in-r.html#a-simple-example-with-real-data---avian-phylogenetics"><i class="fa fa-check"></i><b>9.1.3</b> A simple example with real data - avian phylogenetics</a></li>
<li class="chapter" data-level="9.1.4" data-path="phylogenetics-in-r.html"><a href="phylogenetics-in-r.html#constructing-trees-with-r"><i class="fa fa-check"></i><b>9.1.4</b> Constructing trees with R</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="population-structure.html"><a href="population-structure.html"><i class="fa fa-check"></i><b>9.2</b> Population structure</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="population-structure.html"><a href="population-structure.html#village-dogs-as-an-insight-to-dog-domestication"><i class="fa fa-check"></i><b>9.2.1</b> Village dogs as an insight to dog domestication</a></li>
<li class="chapter" data-level="9.2.2" data-path="population-structure.html"><a href="population-structure.html#reading-the-data-into-r"><i class="fa fa-check"></i><b>9.2.2</b> Reading the data into R</a></li>
<li class="chapter" data-level="9.2.3" data-path="population-structure.html"><a href="population-structure.html#performing-a-pca"><i class="fa fa-check"></i><b>9.2.3</b> Performing a PCA</a></li>
<li class="chapter" data-level="9.2.4" data-path="population-structure.html"><a href="population-structure.html#visualising-the-pca"><i class="fa fa-check"></i><b>9.2.4</b> Visualising the PCA</a></li>
<li class="chapter" data-level="9.2.5" data-path="population-structure.html"><a href="population-structure.html#eigenvalues"><i class="fa fa-check"></i><b>9.2.5</b> Eigenvalues</a></li>
<li class="chapter" data-level="9.2.6" data-path="population-structure.html"><a href="population-structure.html#the-full-data-set"><i class="fa fa-check"></i><b>9.2.6</b> The full data set</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="study-questions-7.html"><a href="study-questions-7.html"><i class="fa fa-check"></i><b>9.3</b> Study questions</a></li>
<li class="chapter" data-level="9.4" data-path="going-further-8.html"><a href="going-further-8.html"><i class="fa fa-check"></i><b>9.4</b> Going further</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="ch10.html"><a href="ch10.html"><i class="fa fa-check"></i><b>10</b> Advancing Further in R</a>
<ul>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#what-to-expect-9"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#getting-started-6"><i class="fa fa-check"></i>Getting started</a></li>
<li class="chapter" data-level="10.1" data-path="advanced-features-of-rstudio.html"><a href="advanced-features-of-rstudio.html"><i class="fa fa-check"></i><b>10.1</b> Advanced features of RStudio</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="advanced-features-of-rstudio.html"><a href="advanced-features-of-rstudio.html#projects-projects-projects"><i class="fa fa-check"></i><b>10.1.1</b> Projects, projects, projects</a></li>
<li class="chapter" data-level="10.1.2" data-path="advanced-features-of-rstudio.html"><a href="advanced-features-of-rstudio.html#everyone-has-a-history"><i class="fa fa-check"></i><b>10.1.2</b> Everyone has a history</a></li>
<li class="chapter" data-level="10.1.3" data-path="advanced-features-of-rstudio.html"><a href="advanced-features-of-rstudio.html#tab-complete-and-other-hotkeys"><i class="fa fa-check"></i><b>10.1.3</b> Tab complete and other hotkeys</a></li>
<li class="chapter" data-level="10.1.4" data-path="advanced-features-of-rstudio.html"><a href="advanced-features-of-rstudio.html#code-checking"><i class="fa fa-check"></i><b>10.1.4</b> Code checking</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="more-on-data-handlingcategorising-and-relating.html"><a href="more-on-data-handlingcategorising-and-relating.html"><i class="fa fa-check"></i><b>10.2</b> More on data handling—categorising and relating</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="more-on-data-handlingcategorising-and-relating.html"><a href="more-on-data-handlingcategorising-and-relating.html#ifelse-for-making-categories"><i class="fa fa-check"></i><b>10.2.1</b> <code>ifelse()</code> for making categories</a></li>
<li class="chapter" data-level="10.2.2" data-path="more-on-data-handlingcategorising-and-relating.html"><a href="more-on-data-handlingcategorising-and-relating.html#joining"><i class="fa fa-check"></i><b>10.2.2</b> Joining</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="vectorisation-1.html"><a href="vectorisation-1.html"><i class="fa fa-check"></i><b>10.3</b> Vectorisation</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="vectorisation-1.html"><a href="vectorisation-1.html#why-is-vectorisation-preferable-in-r"><i class="fa fa-check"></i><b>10.3.1</b> Why is vectorisation preferable in R?</a></li>
<li class="chapter" data-level="10.3.2" data-path="vectorisation-1.html"><a href="vectorisation-1.html#using-sapply-instead-of-for-on-vectors"><i class="fa fa-check"></i><b>10.3.2</b> Using <code>sapply</code> instead of <code>for</code> on vectors</a></li>
<li class="chapter" data-level="10.3.3" data-path="vectorisation-1.html"><a href="vectorisation-1.html#using-apply-instead-of-for-on-matrices-and-dataframes"><i class="fa fa-check"></i><b>10.3.3</b> Using apply instead of <code>for</code> on matrices and dataframes</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="returning-to-writing-your-own-functions.html"><a href="returning-to-writing-your-own-functions.html"><i class="fa fa-check"></i><b>10.4</b> Returning to writing your own functions</a></li>
<li class="chapter" data-level="10.5" data-path="concluding-remarks.html"><a href="concluding-remarks.html"><i class="fa fa-check"></i><b>10.5</b> Concluding remarks</a></li>
<li class="chapter" data-level="10.6" data-path="study-questions-8.html"><a href="study-questions-8.html"><i class="fa fa-check"></i><b>10.6</b> Study questions</a></li>
<li class="chapter" data-level="10.7" data-path="going-further-9.html"><a href="going-further-9.html"><i class="fa fa-check"></i><b>10.7</b> Going further</a></li>
</ul></li>
<li class="part"><span><b>III Assignments</b></span></li>
<li class="chapter" data-level="" data-path="w01.html"><a href="w01.html"><i class="fa fa-check"></i>Week 1-2 assignment</a></li>
<li class="chapter" data-level="" data-path="w03.html"><a href="w03.html"><i class="fa fa-check"></i>Week 3 Assignment</a></li>
<li class="chapter" data-level="" data-path="w04.html"><a href="w04.html"><i class="fa fa-check"></i>Week 4 assignment</a></li>
<li class="chapter" data-level="" data-path="w05.html"><a href="w05.html"><i class="fa fa-check"></i>Week 5 assignment</a></li>
<li class="chapter" data-level="" data-path="w06.html"><a href="w06.html"><i class="fa fa-check"></i>Week 6 assignment</a></li>
<li class="chapter" data-level="" data-path="w07.html"><a href="w07.html"><i class="fa fa-check"></i>Week 7 assignment</a></li>
<li class="chapter" data-level="" data-path="w08.html"><a href="w08.html"><i class="fa fa-check"></i>Week 8 assignment</a></li>
<li class="chapter" data-level="" data-path="w09.html"><a href="w09.html"><i class="fa fa-check"></i>Week 9 assignment</a></li>
<li class="chapter" data-level="" data-path="w10.html"><a href="w10.html"><i class="fa fa-check"></i>Week 10 assignment</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>A</b> About assignments and RMarkdown</a>
<ul>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#r-markdown"><i class="fa fa-check"></i>R Markdown</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#getting-started-7"><i class="fa fa-check"></i>Getting started</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Made with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R tutorials for the course BIOS1140 at the University of Oslo</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-programming-for-loops" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> R programming: for-loops</h2>
<script src="js/hideOutput.js"></script>
<p>In this section we will learn about for-loops, which is an important concept for any kind of programming (not just in R!). It is made so you can follow it even if you’ve never heard of loops in programming before, but should also be useful for those who already have experience with loops in another programming language (like Python) and want to learn how it’s done in R.</p>
<div id="motivation-why-loop" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Motivation: why loop?</h3>
<p>Let’s start by making a numeric vector that we want do do some operations on.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="r-programming-for-loops.html#cb118-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">20</span>, <span class="dv">2</span>)</span>
<span id="cb118-2"><a href="r-programming-for-loops.html#cb118-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb118-3"><a href="r-programming-for-loops.html#cb118-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  2  4  6  8 10 12 14 16 18 20</span></span></code></pre></div>
<p>Say you want to multiply every element by 5. You’ve already learned to do that in R:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="r-programming-for-loops.html#cb119-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> <span class="dv">5</span></span>
<span id="cb119-2"><a href="r-programming-for-loops.html#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  10  20  30  40  50  60  70  80  90 100</span></span></code></pre></div>
<p>However, what if we want to add two and two elements of the vector together? With our vector <code>x</code>, this would be <code>2+4</code>, <code>4+6</code>, <code>6+8</code> and so on. There is no simple way to do this that you’ve learned yet. We could use the square brackets to extract individual elements and do 9 calculations like this:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="r-programming-for-loops.html#cb120-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>] <span class="sc">+</span> x[<span class="dv">2</span>]</span>
<span id="cb120-2"><a href="r-programming-for-loops.html#cb120-2" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>] <span class="sc">+</span> x[<span class="dv">3</span>]</span>
<span id="cb120-3"><a href="r-programming-for-loops.html#cb120-3" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3</span>] <span class="sc">+</span> x[<span class="dv">4</span>]</span>
<span id="cb120-4"><a href="r-programming-for-loops.html#cb120-4" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">4</span>] <span class="sc">+</span> x[<span class="dv">5</span>]</span>
<span id="cb120-5"><a href="r-programming-for-loops.html#cb120-5" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">5</span>] <span class="sc">+</span> x[<span class="dv">6</span>]</span>
<span id="cb120-6"><a href="r-programming-for-loops.html#cb120-6" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">6</span>] <span class="sc">+</span> x[<span class="dv">7</span>]</span>
<span id="cb120-7"><a href="r-programming-for-loops.html#cb120-7" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">7</span>] <span class="sc">+</span> x[<span class="dv">8</span>]</span>
<span id="cb120-8"><a href="r-programming-for-loops.html#cb120-8" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">8</span>] <span class="sc">+</span> x[<span class="dv">9</span>]</span>
<span id="cb120-9"><a href="r-programming-for-loops.html#cb120-9" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">9</span>] <span class="sc">+</span> x[<span class="dv">10</span>]</span></code></pre></div>
<p>But this is a lot of typing for doing a repetitive task, which we want to avoid<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a>. What if we could generalize this, so the computer does the repeated operations for us instead? That’s where for-loops come in.</p>
</div>
<div id="how-a-for-loop-works" class="section level3" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> How a for-loop works</h3>
<p>Before we go into solving our example, we have to learn a bit about for-loops. A for-loop in R conceptually looks like this:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="r-programming-for-loops.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (variable <span class="cf">in</span> vector){ <span class="co"># variable starts as the first element of vector</span></span>
<span id="cb121-2"><a href="r-programming-for-loops.html#cb121-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb121-3"><a href="r-programming-for-loops.html#cb121-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># do something involving variable</span></span>
<span id="cb121-4"><a href="r-programming-for-loops.html#cb121-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the part within the curly brackets is called</span></span>
<span id="cb121-5"><a href="r-programming-for-loops.html#cb121-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the body of the for-loop</span></span>
<span id="cb121-6"><a href="r-programming-for-loops.html#cb121-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb121-7"><a href="r-programming-for-loops.html#cb121-7" aria-hidden="true" tabindex="-1"></a>} <span class="co"># when the curly bracket ends, variable becomes the next element of vector</span></span></code></pre></div>
<p>When the loop starts, <code>variable</code> is set to the first element of <code>vector</code>. Within the curly braces (“krølleparentes”) some operation is done using this <code>variable</code>. Then, after the closing curly bracket, <code>variable</code> becomes the next element in <code>vector</code>, and whatever is inside the curly braces gets repeated with this updated <code>variable</code>. This goes on until you’ve been through all elements of <code>vector</code>. Since it repeats an operation for all the elements of <code>vector</code>, we say that it “loops over” <code>vector</code>.</p>
<p>This might be easier to understand if you see a real example of a for loop<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a>:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="r-programming-for-loops.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (element <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb123-2"><a href="r-programming-for-loops.html#cb123-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(element)</span>
<span id="cb123-3"><a href="r-programming-for-loops.html#cb123-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb123-4"><a href="r-programming-for-loops.html#cb123-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb123-5"><a href="r-programming-for-loops.html#cb123-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb123-6"><a href="r-programming-for-loops.html#cb123-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span>
<span id="cb123-7"><a href="r-programming-for-loops.html#cb123-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb123-8"><a href="r-programming-for-loops.html#cb123-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span>
<span id="cb123-9"><a href="r-programming-for-loops.html#cb123-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb123-10"><a href="r-programming-for-loops.html#cb123-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7</span></span>
<span id="cb123-11"><a href="r-programming-for-loops.html#cb123-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 8</span></span>
<span id="cb123-12"><a href="r-programming-for-loops.html#cb123-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9</span></span>
<span id="cb123-13"><a href="r-programming-for-loops.html#cb123-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>Here you can see more of what’s actually happening. In the first round, <code>element</code> is the first element of <code>1:10</code>, i.e. 1, which is printed. Then, <code>element</code> becomes the second element of <code>1:10</code>, which is 2, and <code>print()</code> prints it. This goes on until you have looped over the entire vector, and the loop ends after printing 10. Below is what actually happens for each round of the loop.</p>
<div class="fold c">
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="r-programming-for-loops.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">1</span>) <span class="co"># round 1, element is 1</span></span>
<span id="cb124-2"><a href="r-programming-for-loops.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">2</span>) <span class="co"># round 2, element is 2</span></span>
<span id="cb124-3"><a href="r-programming-for-loops.html#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">3</span>) <span class="co"># round 3, element is 3</span></span>
<span id="cb124-4"><a href="r-programming-for-loops.html#cb124-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">4</span>) <span class="co"># ... and so on</span></span>
<span id="cb124-5"><a href="r-programming-for-loops.html#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">5</span>)</span>
<span id="cb124-6"><a href="r-programming-for-loops.html#cb124-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">6</span>)</span>
<span id="cb124-7"><a href="r-programming-for-loops.html#cb124-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">7</span>)</span>
<span id="cb124-8"><a href="r-programming-for-loops.html#cb124-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">8</span>)</span>
<span id="cb124-9"><a href="r-programming-for-loops.html#cb124-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">9</span>)</span>
<span id="cb124-10"><a href="r-programming-for-loops.html#cb124-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">10</span>)</span></code></pre></div>
</div>
<p>Notice how many lines you saved by writing a loop! The power here comes from that it doesn’t matter how long your vector is, and you can do any operation on the elements of the vector. Say we want to multiply each element of our vector <code>x</code> with 5, which we did in the start of this tutorial.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="r-programming-for-loops.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(element <span class="cf">in</span> x){</span>
<span id="cb125-2"><a href="r-programming-for-loops.html#cb125-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(element <span class="sc">*</span> <span class="dv">5</span>)</span>
<span id="cb125-3"><a href="r-programming-for-loops.html#cb125-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb125-4"><a href="r-programming-for-loops.html#cb125-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span>
<span id="cb125-5"><a href="r-programming-for-loops.html#cb125-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 20</span></span>
<span id="cb125-6"><a href="r-programming-for-loops.html#cb125-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 30</span></span>
<span id="cb125-7"><a href="r-programming-for-loops.html#cb125-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 40</span></span>
<span id="cb125-8"><a href="r-programming-for-loops.html#cb125-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 50</span></span>
<span id="cb125-9"><a href="r-programming-for-loops.html#cb125-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 60</span></span>
<span id="cb125-10"><a href="r-programming-for-loops.html#cb125-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 70</span></span>
<span id="cb125-11"><a href="r-programming-for-loops.html#cb125-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 80</span></span>
<span id="cb125-12"><a href="r-programming-for-loops.html#cb125-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 90</span></span>
<span id="cb125-13"><a href="r-programming-for-loops.html#cb125-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 100</span></span></code></pre></div>
<p>You can also use this with other kinds of vectors, e.g. a vector of strings.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="r-programming-for-loops.html#cb126-1" aria-hidden="true" tabindex="-1"></a>animals <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;cat&quot;</span>, <span class="st">&quot;dog&quot;</span>, <span class="st">&quot;horse&quot;</span>, <span class="st">&quot;badger&quot;</span>, <span class="st">&quot;unicorn&quot;</span>)</span>
<span id="cb126-2"><a href="r-programming-for-loops.html#cb126-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-3"><a href="r-programming-for-loops.html#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (animal <span class="cf">in</span> animals){</span>
<span id="cb126-4"><a href="r-programming-for-loops.html#cb126-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(animal)</span>
<span id="cb126-5"><a href="r-programming-for-loops.html#cb126-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb126-6"><a href="r-programming-for-loops.html#cb126-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;cat&quot;</span></span>
<span id="cb126-7"><a href="r-programming-for-loops.html#cb126-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;dog&quot;</span></span>
<span id="cb126-8"><a href="r-programming-for-loops.html#cb126-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;horse&quot;</span></span>
<span id="cb126-9"><a href="r-programming-for-loops.html#cb126-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;badger&quot;</span></span>
<span id="cb126-10"><a href="r-programming-for-loops.html#cb126-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;unicorn&quot;</span></span></code></pre></div>
<div class="green">
<p><strong>Important concept:</strong><br />
Use a for-loop to do the same operation over and over on the elements of your vector. The basic structure of a for-loop looks like this:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="r-programming-for-loops.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (variable <span class="cf">in</span> vector){</span>
<span id="cb127-2"><a href="r-programming-for-loops.html#cb127-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># do something</span></span>
<span id="cb127-3"><a href="r-programming-for-loops.html#cb127-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="blue">
<p><strong>Tip:</strong></p>
<p>You may have noticed that I’ve called the variable that is changing for each iteration different things in all the examples, namely <code>variable</code>, <code>element</code> and <code>animal</code>. Actually, you can call this variable anything (within reason). All you have to remember is to call it the same thing within the loop as when starting it. In other words, this works<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a>:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="r-programming-for-loops.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (whatever_you_want_to_call_the_variable <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb128-2"><a href="r-programming-for-loops.html#cb128-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(whatever_you_want_to_call_the_variable)</span>
<span id="cb128-3"><a href="r-programming-for-loops.html#cb128-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>But this doesn’t:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="r-programming-for-loops.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (some_name <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb129-2"><a href="r-programming-for-loops.html#cb129-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(another_name)</span>
<span id="cb129-3"><a href="r-programming-for-loops.html#cb129-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<p><strong>Exercise: Create a vector containing the names of five countries. Use a for-loop to print the countries. Optional: use the <code>paste()</code> function to output “<code>country</code> is a country” for each element</strong></p>
</div>
<div id="indexing" class="section level3" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Indexing with for-loops</h3>
<p>To solve our initial problem (and also for the things we will be doing later), we need to introduce one more concept: using the changing variable in your for-loop as an index for your vectors. If we look once more at our <code>animals</code> vector above, there are actually two ways of printing every element:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="r-programming-for-loops.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># printing the element like we did earlier</span></span>
<span id="cb130-2"><a href="r-programming-for-loops.html#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (animal <span class="cf">in</span> animals){</span>
<span id="cb130-3"><a href="r-programming-for-loops.html#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(animal)</span>
<span id="cb130-4"><a href="r-programming-for-loops.html#cb130-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb130-5"><a href="r-programming-for-loops.html#cb130-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-6"><a href="r-programming-for-loops.html#cb130-6" aria-hidden="true" tabindex="-1"></a><span class="co"># printing the element using an index</span></span>
<span id="cb130-7"><a href="r-programming-for-loops.html#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb130-8"><a href="r-programming-for-loops.html#cb130-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(animals[index])</span>
<span id="cb130-9"><a href="r-programming-for-loops.html#cb130-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The execution of the latter for-loop looks like this:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="r-programming-for-loops.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(animals[<span class="dv">1</span>])</span>
<span id="cb131-2"><a href="r-programming-for-loops.html#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(animals[<span class="dv">2</span>])</span>
<span id="cb131-3"><a href="r-programming-for-loops.html#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(animals[<span class="dv">3</span>])</span>
<span id="cb131-4"><a href="r-programming-for-loops.html#cb131-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(animals[<span class="dv">4</span>])</span>
<span id="cb131-5"><a href="r-programming-for-loops.html#cb131-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(animals[<span class="dv">5</span>])</span></code></pre></div>
<p>Note that rather than looping over the <code>animals</code> vector itself, we loop over a vector from 1 to 5, using those numbers to access the values inside <code>animals</code>. Here we made this vector by writing <code>1:5</code>, but a better way would be writing <code>1:length(animals)</code> so we can be sure that the index vector is the same length as the <code>animals</code> vector. Looping this way has the advantage that we can loop over several vectors at the same time:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="r-programming-for-loops.html#cb132-1" aria-hidden="true" tabindex="-1"></a>score <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;good&quot;</span>, <span class="st">&quot;great&quot;</span>, <span class="st">&quot;fine&quot;</span>, <span class="st">&quot;best&quot;</span>, <span class="st">&quot;probably not real&quot;</span>)</span>
<span id="cb132-2"><a href="r-programming-for-loops.html#cb132-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-3"><a href="r-programming-for-loops.html#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="co"># looping over both animals and score</span></span>
<span id="cb132-4"><a href="r-programming-for-loops.html#cb132-4" aria-hidden="true" tabindex="-1"></a><span class="co"># note the use of 1:length(animals) instead of 1:5</span></span>
<span id="cb132-5"><a href="r-programming-for-loops.html#cb132-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-6"><a href="r-programming-for-loops.html#cb132-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(animals)){</span>
<span id="cb132-7"><a href="r-programming-for-loops.html#cb132-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># paste together the current element in animals and score</span></span>
<span id="cb132-8"><a href="r-programming-for-loops.html#cb132-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># grading will be overwritten every round of the loop</span></span>
<span id="cb132-9"><a href="r-programming-for-loops.html#cb132-9" aria-hidden="true" tabindex="-1"></a>  grading <span class="ot">&lt;-</span> <span class="fu">paste</span>(animals[index], <span class="st">&quot;is&quot;</span>, score[index])</span>
<span id="cb132-10"><a href="r-programming-for-loops.html#cb132-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(grading)</span>
<span id="cb132-11"><a href="r-programming-for-loops.html#cb132-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb132-12"><a href="r-programming-for-loops.html#cb132-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;cat is good&quot;</span></span>
<span id="cb132-13"><a href="r-programming-for-loops.html#cb132-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;dog is great&quot;</span></span>
<span id="cb132-14"><a href="r-programming-for-loops.html#cb132-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;horse is fine&quot;</span></span>
<span id="cb132-15"><a href="r-programming-for-loops.html#cb132-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;badger is best&quot;</span></span>
<span id="cb132-16"><a href="r-programming-for-loops.html#cb132-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;unicorn is probably not real&quot;</span></span></code></pre></div>
<p>We can also access more than one element of a vector at once, by using e.g. <code>index - 1</code> to access the previous element.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="r-programming-for-loops.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(animals)){ <span class="co">#note: starting on 2</span></span>
<span id="cb133-2"><a href="r-programming-for-loops.html#cb133-2" aria-hidden="true" tabindex="-1"></a>  friends <span class="ot">&lt;-</span> <span class="fu">paste</span>(animals[index], <span class="st">&quot;and&quot;</span>, animals[index <span class="sc">-</span> <span class="dv">1</span>], <span class="st">&quot;are friends&quot;</span>)</span>
<span id="cb133-3"><a href="r-programming-for-loops.html#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(friends)</span>
<span id="cb133-4"><a href="r-programming-for-loops.html#cb133-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb133-5"><a href="r-programming-for-loops.html#cb133-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;dog and cat are friends&quot;</span></span>
<span id="cb133-6"><a href="r-programming-for-loops.html#cb133-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;horse and dog are friends&quot;</span></span>
<span id="cb133-7"><a href="r-programming-for-loops.html#cb133-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;badger and horse are friends&quot;</span></span>
<span id="cb133-8"><a href="r-programming-for-loops.html#cb133-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;unicorn and badger are friends&quot;</span></span></code></pre></div>
<p>Show the code below to see how this would look if done manually.</p>
<div class="fold c">
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="r-programming-for-loops.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first round, remember that writing animals[2 - 1] is</span></span>
<span id="cb134-2"><a href="r-programming-for-loops.html#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="co"># exactly the same as writing animals[1]</span></span>
<span id="cb134-3"><a href="r-programming-for-loops.html#cb134-3" aria-hidden="true" tabindex="-1"></a>friends <span class="ot">&lt;-</span> <span class="fu">paste</span>(animals[<span class="dv">2</span>], <span class="st">&quot;and&quot;</span>, animals[<span class="dv">2</span> <span class="sc">-</span> <span class="dv">1</span>], <span class="st">&quot;are friends&quot;</span>)</span>
<span id="cb134-4"><a href="r-programming-for-loops.html#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(friends)</span>
<span id="cb134-5"><a href="r-programming-for-loops.html#cb134-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-6"><a href="r-programming-for-loops.html#cb134-6" aria-hidden="true" tabindex="-1"></a><span class="co"># second round</span></span>
<span id="cb134-7"><a href="r-programming-for-loops.html#cb134-7" aria-hidden="true" tabindex="-1"></a>friends <span class="ot">&lt;-</span> <span class="fu">paste</span>(animals[<span class="dv">3</span>], <span class="st">&quot;and&quot;</span>, animals[<span class="dv">3</span> <span class="sc">-</span> <span class="dv">1</span>], <span class="st">&quot;are friends&quot;</span>)</span>
<span id="cb134-8"><a href="r-programming-for-loops.html#cb134-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(friends)</span>
<span id="cb134-9"><a href="r-programming-for-loops.html#cb134-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-10"><a href="r-programming-for-loops.html#cb134-10" aria-hidden="true" tabindex="-1"></a><span class="co"># third round</span></span>
<span id="cb134-11"><a href="r-programming-for-loops.html#cb134-11" aria-hidden="true" tabindex="-1"></a>friends <span class="ot">&lt;-</span> <span class="fu">paste</span>(animals[<span class="dv">4</span>], <span class="st">&quot;and&quot;</span>, animals[<span class="dv">4</span> <span class="sc">-</span> <span class="dv">1</span>], <span class="st">&quot;are friends&quot;</span>)</span>
<span id="cb134-12"><a href="r-programming-for-loops.html#cb134-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(friends)</span>
<span id="cb134-13"><a href="r-programming-for-loops.html#cb134-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-14"><a href="r-programming-for-loops.html#cb134-14" aria-hidden="true" tabindex="-1"></a><span class="co"># fourth round</span></span>
<span id="cb134-15"><a href="r-programming-for-loops.html#cb134-15" aria-hidden="true" tabindex="-1"></a>friends <span class="ot">&lt;-</span> <span class="fu">paste</span>(animals[<span class="dv">5</span>], <span class="st">&quot;and&quot;</span>, animals[<span class="dv">5</span> <span class="sc">-</span> <span class="dv">1</span>], <span class="st">&quot;are friends&quot;</span>)</span>
<span id="cb134-16"><a href="r-programming-for-loops.html#cb134-16" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(friends)</span></code></pre></div>
</div>
<p>Now we know all we need to solve our initial problem, which we will return to in the next section.</p>
<p><strong>Exercise: In addition to your country vector from before, make a corresponding vector containing continents. Use indexing with for loops and the <code>paste</code> function to print “<code>country</code> is in <code>continent</code>” for each of the countries and continents in your vector.</strong></p>
<div class="green">
<p><strong>Important concept:</strong><br />
Use for-loops with indexing when you want to access several elements of one or more vectors at once. Most of the time you will use indexing rather than looping over a vector directly.</p>
</div>
</div>
<div id="solving-our-problem" class="section level3" number="3.1.4">
<h3><span class="header-section-number">3.1.4</span> Solving our problem</h3>
<p>To remind you of where we started: we want to add the adjacent elements of our vector <code>x</code> together in the smartest way possible.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="r-programming-for-loops.html#cb135-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">20</span>, <span class="dv">2</span>)</span></code></pre></div>
<p>Below is how this can be done with for-loops. I encourage you to try to solve it yourself before looking at the solution.</p>
<details>
<summary>
<p>Show hint</p>
</summary>
<p>Hint: Loop over the vector <code>2:length(x)</code><a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a>. For every round, add <code>x[index]</code> and <code>x[index - 1]</code> together and print this.</p>
</details>
<div class="fold s o">
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="r-programming-for-loops.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(x)){</span>
<span id="cb136-2"><a href="r-programming-for-loops.html#cb136-2" aria-hidden="true" tabindex="-1"></a>  added <span class="ot">&lt;-</span> x[index] <span class="sc">+</span> x[index <span class="sc">-</span> <span class="dv">1</span>]</span>
<span id="cb136-3"><a href="r-programming-for-loops.html#cb136-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(added)</span>
<span id="cb136-4"><a href="r-programming-for-loops.html#cb136-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb136-5"><a href="r-programming-for-loops.html#cb136-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb136-6"><a href="r-programming-for-loops.html#cb136-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span>
<span id="cb136-7"><a href="r-programming-for-loops.html#cb136-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 14</span></span>
<span id="cb136-8"><a href="r-programming-for-loops.html#cb136-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 18</span></span>
<span id="cb136-9"><a href="r-programming-for-loops.html#cb136-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 22</span></span>
<span id="cb136-10"><a href="r-programming-for-loops.html#cb136-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 26</span></span>
<span id="cb136-11"><a href="r-programming-for-loops.html#cb136-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 30</span></span>
<span id="cb136-12"><a href="r-programming-for-loops.html#cb136-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 34</span></span>
<span id="cb136-13"><a href="r-programming-for-loops.html#cb136-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 38</span></span></code></pre></div>
</div>
</div>
<div id="storing-values-from-a-for-loop" class="section level3" number="3.1.5">
<h3><span class="header-section-number">3.1.5</span> Storing values from a for-loop</h3>
<p>One final concept before going on to work with evolutionary biology. In the last section, we printed our results. What if we wanted to do work further with the results we got? We could copy the numbers from the console and create a new vector manually, but (like so many of my stupid suggestions throughout these tutorials) this is bothersome and doesn’t scale well. The best way to store values from a for loop is to create an empty vector before the loop, and fill in that vector as we loop.</p>
<p>First we use the <code>rep()</code> function to create a vector containing <code>NA</code>. You can read the following <code>rep(NA, 10)</code> as “repeat <code>NA</code>, 10 times”, i.e. you get a vector of 10 <code>NA</code>. We use <code>NA</code> for our vector because our calculations within the loop will not produce any <code>NA</code> (unless something goes horribly wrong). This way, we can easily see if something went wrong in our loop (if there are any <code>NA</code> left in our <code>results</code> vector after our loop, something is probably off).</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="r-programming-for-loops.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># repeat 0, 10 times</span></span>
<span id="cb137-2"><a href="r-programming-for-loops.html#cb137-2" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="dv">10</span>)</span>
<span id="cb137-3"><a href="r-programming-for-loops.html#cb137-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-4"><a href="r-programming-for-loops.html#cb137-4" aria-hidden="true" tabindex="-1"></a><span class="co"># to ensure that results is the same length as x, we should instead write:</span></span>
<span id="cb137-5"><a href="r-programming-for-loops.html#cb137-5" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(x))</span></code></pre></div>
<p>Then, we loop over the same index as before, but instead of printing our result, we store it as an element of our <code>results</code> vector.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="r-programming-for-loops.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(x)){</span>
<span id="cb138-2"><a href="r-programming-for-loops.html#cb138-2" aria-hidden="true" tabindex="-1"></a>  results[index] <span class="ot">&lt;-</span> x[index] <span class="sc">+</span> x[index <span class="sc">-</span> <span class="dv">1</span>]</span>
<span id="cb138-3"><a href="r-programming-for-loops.html#cb138-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>This doesn’t print anything yet, but the results are now stored in the <code>results</code> vector.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="r-programming-for-loops.html#cb139-1" aria-hidden="true" tabindex="-1"></a>results</span>
<span id="cb139-2"><a href="r-programming-for-loops.html#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] NA  6 10 14 18 22 26 30 34 38</span></span></code></pre></div>
<p>We see that the first element us still <code>NA</code> (since we started on the second element), which isn’t perfect, but good enough for now!</p>
<p>That concludes this week’s R-focused part of the tutorial. Some of the Evolutionary biology-focused part will use the concepts you have learned here, so check back here if there is a part of the code you don’t understand.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="14">
<li id="fn14"><p>because it’s bothersome and there’s a great chance of making errors, and imagine how long it would take if our vector had 1000 or 10000 elements!<a href="r-programming-for-loops.html#fnref14" class="footnote-back">↩︎</a></p></li>
<li id="fn15"><p>Note that to print your result to console inside a for-loop, you explicitly have to use <code>print()</code>, unlike what you’ve done so far. Something like</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (element <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>element</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>won’t actually print anything.<a href="r-programming-for-loops.html#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p>but it’s kind of dumb, don’t do it<a href="r-programming-for-loops.html#fnref16" class="footnote-back">↩︎</a></p></li>
<li id="fn17"><p>Something to think about: Why do we start the vector we’re looping over at 2, not 1? what would happen if we started at 1? (hint: what is <code>1 - 1</code>, and does that correspond to an element in our vector?)<a href="r-programming-for-loops.html#fnref17" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ch03.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="evolutionary-biology.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
